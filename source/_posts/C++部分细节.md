---
title: C++部分细节
categories: 
- C++
- 侯捷老师视频
date: 2021-01-24 23:24:49
tags: 
- C++
- 侯捷
- pass value
description: 听侯捷老师讲C++时记录的一些细节
---

一. pass by value vs pass by conference

​		C++引用传值相当于是传的变量的地址，地址在32位编译器中占4字节空间，64位空间中占8字节空间。一般来说，大部分数据所占用的空间都会比这个大，因此侯捷老师在课中推荐大部分情况下传值能采用引用就采用引用，返回值也尽量用引用传。

​	注意：返回值传递引用时，这个返回值应该是本来就存在的，即不是临时定义创建的。	

​	但是，如果考虑的细致一点，如果传递的是一些占用空间小的数据如一个char字符，那么可以考虑使用直接传值。

​		另外传值时担心原数据被修改可以加上const关键词进行限定。

| 类型          | 32  | 64  |
| ------------- | --- | --- |
| char          | 1   | 1   |
| short int     | 2   | 2   |
| int           | 4   | 4   |
| long int      | 4   | 8   |
| long long int | 8   | 8   |
| char*         | 4   | 8   |
| float         | 4   | 4   |
| double        | 8   | 8   |





二 . 同一class的各个objects互为友元

​		定义了两个同一类型的不同对象，不同对象却可以通过方法来访问彼此的私有数据，很多程序员知道可以这样做，但无法合理解释，侯捷老师提出的一个解释是：同一class的各个objects互为友元。

​		我猜想，以前学过同一类型的数据各个对象都不一样，但方法只有一套，而私有的数据面对方法是开放的，无论是对象一还是对象二都是使用的同一套方法，即它们调用的方法是同一批，而它们的数据都对这些方法开放。因此，即使是不同的对象，但因为是使用的同一批方法，所以可以通过这些方法来访问彼此的数据。



三. const限定

​		类定义里需要const限定一定const。



四. 构造函数

​		构造函数尽量使用初始化，而非赋值。



五.  构造函数被放在private里的情况